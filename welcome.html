<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1a1a2e">
    <meta name="description" content="ุงููุฑูุงู - ุงุชุงู ูุฑุงุฑ ูุญุท - ุฑูุฏุงุฏ ุจุงุฒูุง ูฺฉุฑ ุฏุงูุดฺฏุงู ููุฑ">
    <title>ุฎูุด ุขูุฏุฏ ุจู ุงููุฑูุงู</title>
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="stylesheet" href="/src/welcome.css">
</head>
<body>
    <div id="app">
        <!-- Welcome Screen -->
        <div id="welcome-screen" class="screen active">
            <div class="welcome-content">
                <div class="logo-section">
                    <h1 class="game-title">๐ฅ ุงููุฑูุงู ๐ฅ</h1>
                    <p class="game-subtitle">ุงุชุงู ูุฑุงุฑ ูุญุท</p>
                    <p class="event-name">ุฑูุฏุงุฏ ุจุงุฒูุง ูฺฉุฑ ุฏุงูุดฺฏุงู ููุฑ</p>
                </div>
                <button class="btn btn-primary" onclick="showTour()">ุดุฑูุน ฺฉูุฏ</button>
            </div>
        </div>

        <!-- Tour/Guide Screen -->
        <div id="tour-screen" class="screen">
            <div class="tour-content">
                <h2>๐ฎ ุฑุงูููุง ุจุงุฒ</h2>
                
                <div class="tour-step">
                    <div class="step-icon">๐</div>
                    <h3>ฺฉุดู ูพุงุฒูโูุง</h3>
                    <p>ุฏุฑ ูุญุท ุงุทุฑุงู ุฎูุฏ ุจู ุฏูุจุงู QR ฺฉุฏูุง ูุฎู ุจฺฏุฑุฏุฏ</p>
                </div>

                <div class="tour-step">
                    <div class="step-icon">๐ฑ</div>
                    <h3>ุงุณฺฉู ฺฉุฏ</h3>
                    <p>ุจุง ุงุณฺฉู QR ฺฉุฏุ ูพุงุฒูโูุง ูพููุงู ุฑุง ฺฉุดู ฺฉูุฏ</p>
                </div>

                <div class="tour-step">
                    <div class="step-icon">๐งฉ</div>
                    <h3>ุญู ูุนูุง</h3>
                    <p>ูุฑ ูพุงุฒู ฺฉ ูุนูุง ุฌุฐุงุจ ุฏุงุฑุฏ ฺฉู ุจุงุฏ ุญู ฺฉูุฏ</p>
                </div>

                <div class="tour-step">
                    <div class="step-icon">๐</div>
                    <h3>ุจุฑูุฏู ุดูุฏ</h3>
                    <p>ุจุง ุญู ููู ูุนูุงูุงุ ูุงุชุญ ุจุงุฒ ุดูุฏ!</p>
                </div>

                <div class="tour-navigation">
                    <button class="btn btn-secondary" onclick="showWelcome()">ุจุงุฒฺฏุดุช</button>
                    <button class="btn btn-primary" onclick="showAuthChoice()">ูุชูุฌู ุดุฏู</button>
                </div>
            </div>
        </div>

        <!-- Auth Choice Screen -->
        <div id="auth-choice-screen" class="screen">
            <div class="auth-choice-content">
                <h2>ูุฑูุฏ ุจู ุจุงุฒ</h2>
                <p class="subtitle">ุจุฑุง ุดุฑูุน ุจุงุฒุ ูุทูุงู ุงูุชุฎุงุจ ฺฉูุฏ:</p>
                
                <div class="auth-buttons">
                    <button class="btn btn-primary btn-large" onclick="showRegistration()">
                        <span class="btn-icon">๐</span>
                        ุซุจุช ูุงู ุฌุฏุฏ
                    </button>
                    <button class="btn btn-secondary btn-large" onclick="showSignIn()">
                        <span class="btn-icon">๐</span>
                        ูุฑูุฏ ุจุง ุญุณุงุจ ฺฉุงุฑุจุฑ
                    </button>
                </div>

                <button class="btn-back" onclick="showTour()">โ ุจุงุฒฺฏุดุช</button>
            </div>
        </div>

        <!-- Sign In Screen -->
        <div id="signin-screen" class="screen">
            <div class="signin-content">
                <h2>ูุฑูุฏ ุจู ุญุณุงุจ ฺฉุงุฑุจุฑ</h2>
                
                <form id="signin-form" class="auth-form">
                    <div class="form-group">
                        <label for="signin-phone">ุดูุงุฑู ููุจุงู</label>
                        <input type="tel" id="signin-phone" class="form-control" placeholder="09xxxxxxxxx" required maxlength="11" pattern="^09\d{9}$">
                    </div>

                    <button type="submit" class="btn btn-primary btn-large">ุงุฑุณุงู ฺฉุฏ ุชุงุฏ</button>
                </form>

                <button class="btn-back" onclick="showAuthChoice()">โ ุจุงุฒฺฏุดุช</button>
            </div>
        </div>

        <!-- OTP Verification Screen (for sign in) -->
        <div id="otp-signin-screen" class="screen">
            <div class="otp-content">
                <h2>ุชุงุฏ ุดูุงุฑู ููุจุงู</h2>
                <p class="subtitle">ฺฉุฏ 6 ุฑูู ุงุฑุณุงู ุดุฏู ุจู ุดูุงุฑู <span id="signin-phone-display"></span> ุฑุง ูุงุฑุฏ ฺฉูุฏ</p>
                
                <div class="otp-inputs">
                    <input type="text" class="otp-input" maxlength="1" pattern="\d" inputmode="numeric">
                    <input type="text" class="otp-input" maxlength="1" pattern="\d" inputmode="numeric">
                    <input type="text" class="otp-input" maxlength="1" pattern="\d" inputmode="numeric">
                    <input type="text" class="otp-input" maxlength="1" pattern="\d" inputmode="numeric">
                    <input type="text" class="otp-input" maxlength="1" pattern="\d" inputmode="numeric">
                    <input type="text" class="otp-input" maxlength="1" pattern="\d" inputmode="numeric">
                </div>

                <button class="btn btn-primary btn-large" onclick="verifySignInOTP()">ุชุงุฏ ฺฉุฏ</button>
                <button class="btn btn-text" onclick="resendOTP('signin')">ุงุฑุณุงู ูุฌุฏุฏ ฺฉุฏ</button>

                <button class="btn-back" onclick="showSignIn()">โ ุจุงุฒฺฏุดุช</button>
            </div>
        </div>

        <!-- Registration Screen -->
        <div id="registration-screen" class="screen">
            <div class="registration-content">
                <h2>ุซุจุช ูุงู</h2>
                
                <form id="registration-form" class="auth-form">
                    <!-- Profile Picture Upload -->
                    <div class="form-group profile-upload-group">
                        <label>ุชุตูุฑ ูพุฑููุงู (ุงุฎุชุงุฑ)</label>
                        <div class="profile-upload">
                            <div class="profile-preview">
                                <img id="profile-preview-img" src="" alt="ูพุดโููุงุด ุชุตูุฑ" style="display: none;">
                                <span id="profile-placeholder">๐ค</span>
                            </div>
                            <input type="file" id="profile-picture" accept="image/*" onchange="handleProfileUpload(event)">
                            <label for="profile-picture" class="btn btn-secondary btn-small">ุงูุชุฎุงุจ ุชุตูุฑ</label>
                        </div>
                    </div>

                    <!-- Name -->
                    <div class="form-group">
                        <label for="name">ูุงู ู ูุงู ุฎุงููุงุฏฺฏ <span class="required">*</span></label>
                        <input type="text" id="name" class="form-control" required>
                    </div>

                    <!-- Birthday -->
                    <div class="form-group">
                        <label for="birthday">ุชุงุฑุฎ ุชููุฏ <span class="required">*</span></label>
                        <input type="date" id="birthday" class="form-control" required>
                    </div>

                    <!-- Gender -->
                    <div class="form-group">
                        <label>ุฌูุณุช <span class="required">*</span></label>
                        <div class="radio-group">
                            <label class="radio-label">
                                <input type="radio" name="gender" value="male" required>
                                <span>ูุฑุฏ</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="gender" value="female" required>
                                <span>ุฒู</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="gender" value="other" required>
                                <span>ุชุฑุฌุญ ูโุฏูู ูฺฏูู</span>
                            </label>
                        </div>
                    </div>

                    <!-- Educational Information -->
                    <div class="form-group">
                        <label for="education-level">ููุทุน ุชุญุตู <span class="required">*</span></label>
                        <select id="education-level" class="form-control" required>
                            <option value="">ุงูุชุฎุงุจ ฺฉูุฏ</option>
                            <option value="high-school">ุฏุจุฑุณุชุงู</option>
                            <option value="diploma">ุฏูพูู</option>
                            <option value="associate">ฺฉุงุฑุฏุงู</option>
                            <option value="bachelor">ฺฉุงุฑุดูุงุณ</option>
                            <option value="master">ฺฉุงุฑุดูุงุณ ุงุฑุดุฏ</option>
                            <option value="phd">ุฏฺฉุชุฑ</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="field-of-study">ุฑุดุชู ุชุญุตู <span class="required">*</span></label>
                        <input type="text" id="field-of-study" class="form-control" required>
                    </div>

                    <!-- Phone Number -->
                    <div class="form-group">
                        <label for="phone">ุดูุงุฑู ููุจุงู <span class="required">*</span></label>
                        <input type="tel" id="phone" class="form-control" placeholder="09xxxxxxxxx" required maxlength="11" pattern="^09\d{9}$">
                    </div>

                    <!-- Color Selection -->
                    <div class="form-group">
                        <label>ุฑูฺฏ ููุฑุฏ ุนูุงูู ุฎูุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ <span class="required">*</span></label>
                        <div class="color-picker">
                            <input type="radio" name="color" value="#ff6b6b" id="color1" required>
                            <label for="color1" class="color-option" style="background: #ff6b6b;"></label>
                            
                            <input type="radio" name="color" value="#4ecdc4" id="color2" required>
                            <label for="color2" class="color-option" style="background: #4ecdc4;"></label>
                            
                            <input type="radio" name="color" value="#ffe66d" id="color3" required>
                            <label for="color3" class="color-option" style="background: #ffe66d;"></label>
                            
                            <input type="radio" name="color" value="#6c5ce7" id="color4" required>
                            <label for="color4" class="color-option" style="background: #6c5ce7;"></label>
                            
                            <input type="radio" name="color" value="#fd79a8" id="color5" required>
                            <label for="color5" class="color-option" style="background: #fd79a8;"></label>
                            
                            <input type="radio" name="color" value="#00b894" id="color6" required>
                            <label for="color6" class="color-option" style="background: #00b894;"></label>
                            
                            <input type="radio" name="color" value="#fdcb6e" id="color7" required>
                            <label for="color7" class="color-option" style="background: #fdcb6e;"></label>
                            
                            <input type="radio" name="color" value="#e17055" id="color8" required>
                            <label for="color8" class="color-option" style="background: #e17055;"></label>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary btn-large">ุงุฏุงูู</button>
                </form>

                <button class="btn-back" onclick="showAuthChoice()">โ ุจุงุฒฺฏุดุช</button>
            </div>
        </div>

        <!-- OTP Verification Screen (for registration) -->
        <div id="otp-registration-screen" class="screen">
            <div class="otp-content">
                <h2>ุชุงุฏ ุดูุงุฑู ููุจุงู</h2>
                <p class="subtitle">ฺฉุฏ 6 ุฑูู ุงุฑุณุงู ุดุฏู ุจู ุดูุงุฑู <span id="registration-phone-display"></span> ุฑุง ูุงุฑุฏ ฺฉูุฏ</p>
                
                <div class="otp-inputs">
                    <input type="text" class="otp-input" maxlength="1" pattern="\d" inputmode="numeric">
                    <input type="text" class="otp-input" maxlength="1" pattern="\d" inputmode="numeric">
                    <input type="text" class="otp-input" maxlength="1" pattern="\d" inputmode="numeric">
                    <input type="text" class="otp-input" maxlength="1" pattern="\d" inputmode="numeric">
                    <input type="text" class="otp-input" maxlength="1" pattern="\d" inputmode="numeric">
                    <input type="text" class="otp-input" maxlength="1" pattern="\d" inputmode="numeric">
                </div>

                <button class="btn btn-primary btn-large" onclick="verifyRegistrationOTP()">ุชุงุฏ ู ุซุจุช ูุงู</button>
                <button class="btn btn-text" onclick="resendOTP('registration')">ุงุฑุณุงู ูุฌุฏุฏ ฺฉุฏ</button>

                <button class="btn-back" onclick="showRegistration()">โ ุจุงุฒฺฏุดุช</button>
            </div>
        </div>

        <!-- Success Screen -->
        <div id="success-screen" class="screen">
            <div class="success-content">
                <div class="success-icon">๐</div>
                <h2>ุซุจุช ูุงู ุจุง ููููุช ุงูุฌุงู ุดุฏ!</h2>
                
                <div class="player-info">
                    <div class="player-id-card">
                        <div class="player-avatar">
                            <img id="success-profile-img" src="" alt="ุชุตูุฑ ูพุฑููุงู" style="display: none;">
                            <span id="success-profile-placeholder">๐ค</span>
                        </div>
                        <div class="player-details">
                            <h3 id="success-player-name"></h3>
                            <p class="player-label">ฺฉุฏ ุจุงุฒฺฉู</p>
                            <p class="player-id" id="success-player-id"></p>
                        </div>
                        <div class="player-color" id="success-player-color"></div>
                    </div>
                </div>

                <div class="instructions">
                    <h3>๐ฎ ุฑุงูููุง ุดุฑูุน ุจุงุฒ</h3>
                    <ul class="instruction-list">
                        <li>ุฏุฑ ูุญุท ุงุทุฑุงู ุฎูุฏ ุจู ุฏูุจุงู QR ฺฉุฏูุง ูุฎู ุจฺฏุฑุฏุฏ</li>
                        <li>ุจุง ุงุณฺฉู ูุฑ QR ฺฉุฏุ ฺฉ ูพุงุฒู ุฌุฏุฏ ูุนุงู ูโุดูุฏ</li>
                        <li>ูุนูุงูุง ูุฑ ูพุงุฒู ุฑุง ุญู ฺฉูุฏ ู ุงูุชุงุฒ ฺฉุณุจ ฺฉูุฏ</li>
                        <li>ฺฉุฏ ุจุงุฒฺฉู ุฎูุฏ ุฑุง ุจุฑุง ูุฑูุฏ ุจุนุฏ ุงุฏุฏุงุดุช ฺฉูุฏ</li>
                    </ul>
                </div>

                <div class="good-luck">
                    <h2>๐ ูููู ุจุงุดุฏ! ๐</h2>
                    <p>ุขูุงุฏูโุงุฏ ุชุง ูุงุฌุฑุงุฌู ุฎูุฏ ุฑุง ุฏุฑ ุฏูุง ุงููุฑูุงู ุดุฑูุน ฺฉูุฏ</p>
                </div>

                <button class="btn btn-primary btn-large" onclick="startGame()">ุดุฑูุน ุจุงุฒ</button>
            </div>
        </div>
    </div>

    <script type="module" src="/src/welcome.js"></script>
</body>
</html>
